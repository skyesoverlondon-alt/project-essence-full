<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Essence Crown: Shard Wars</title>
  <link rel="stylesheet" href="new-board.css">
  <style>
    body {
      background: radial-gradient(circle at center top, rgb(17, 24, 39) 0px, rgb(2, 6, 23) 45%, rgb(0, 0, 0) 100%);
      color: #e5e7eb;
      font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
      min-height: 100vh;
    }

    .ec-nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 20px;
      background: rgba(12, 10, 24, 0.85);
      border-bottom: 1px solid rgba(148, 163, 184, 0.25);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .ec-brand {
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #c4b5fd;
      text-shadow: 0 0 16px rgba(196, 181, 253, 0.6);
    }

    .ec-menu {
      display: flex;
      gap: 14px;
    }

    .ec-menu a {
      color: #e5e7eb;
      text-decoration: none;
      font-size: 0.95rem;
      padding: 6px 10px;
      border-radius: 8px;
      transition: background 0.2s ease, color 0.2s ease;
    }

    .ec-menu a:hover {
      background: rgba(124, 58, 237, 0.15);
      color: #c4b5fd;
    }

    main.page-wrap {
      max-width: 1280px;
      margin: 0 auto;
      padding: 20px;
    }

    #app {
      max-width: 1200px;
      margin: 12px auto 36px;
    }

    .turn-indicator {
      text-align: center;
    }
  </style>
</head>
<body>
  <header class="ec-nav">
    <div class="ec-brand">Essence Crown: Shard Wars</div>
    <nav class="ec-menu" aria-label="Main">
      <a href="#" aria-label="Profile">Profile</a>
      <a href="#" aria-label="Campaign">Campaign</a>
      <a href="#" aria-label="Learn">Learn</a>
      <a href="#" aria-label="Settings">Settings</a>
    </nav>
  </header>

  <main class="page-wrap">
    <h1>Essence Crown: New Earth</h1>
    <div id="subtitle">KL • Essence • God Charges • Veiled Deck • Shards • Domains</div>

    <div id="app">
      <div class="top-bar">
        <div class="controls">
          <button id="start-game-btn">Start Game (P1 Turn 1)</button>
          <button id="attack-all-btn" disabled>Attack With All Avatars</button>
          <button id="reset-btn">Reset Game</button>
        </div>
        <div class="toggle-pill">
          <span>Mode:</span>
          <span class="mode-label">Guided</span>
          <div class="toggle-switch guided">
            <div class="toggle-knob"></div>
          </div>
        </div>
      </div>

      <div class="turn-indicator">Turn: Not started • Click “Start Game (P1 Turn 1)”</div>

      <div class="board">
        <div class="player-section top">
          <div class="player-section-inner">
            <div class="player-header-row">
              <div class="player-id-block">
                <div class="player-label">Opposing Commander</div>
                <div class="player-name" id="top-player-name">Player Two (P2)</div>
              </div>
            </div>
            <div class="player-stats-row">
              <div class="stat-pill essence">Essence: <span id="top-essence">21</span></div>
              <div class="stat-pill kl">KL: <span id="top-kl">3</span> / 31</div>
              <div class="stat-pill kl">Base KL: <span id="top-base-kl">3</span></div>
              <div class="stat-pill god">God Charges: <span id="top-god">0</span> / 3</div>
              <div class="stat-pill">Hand: <span id="top-hand">0</span></div>
              <div class="stat-pill">Veiled: <span id="top-veiled">8</span></div>
              <div class="stat-pill">Crypt: <span id="top-crypt">0</span></div>
            </div>
            <div class="meter-row">
              <div class="meter">
                <div class="meter-label">Essence Life Force</div>
                <div class="meter-track">
                  <div class="meter-fill essence" id="top-essence-meter"></div>
                </div>
              </div>
              <div class="meter">
                <div class="meter-label">KL Flow</div>
                <div class="meter-track">
                  <div class="meter-fill kl" id="top-kl-meter"></div>
                  <div class="kl-threshold-marker"></div>
                  <div class="kl-cap-marker"></div>
                </div>
              </div>
            </div>
            <div class="god-charge-row">
              <div>God Charges</div>
              <div class="god-orbs">
                <div class="god-orb" data-top-god="1"></div>
                <div class="god-orb" data-top-god="2"></div>
                <div class="god-orb" data-top-god="3"></div>
              </div>
            </div>
            <div class="zones-grid">
              <div class="zone-column">
                <div class="zone-card">
                  <div class="zone-title">Veiled Deck</div>
                  <div class="zone-body">
                    <div class="zone-count-badge" id="top-veiled-count">8 card(s)</div>
                    <div class="zone-note">This mirrors the Veiled Deck stack on your physical mat.</div>
                  </div>
                </div>
                <div class="zone-card compact">
                  <div class="zone-title">Crypt (Discard / Fallen)</div>
                  <div class="zone-body">
                    <div class="zone-count-badge" id="top-crypt-count">0 card(s)</div>
                  </div>
                </div>
              </div>
              <div class="zone-column">
                <div class="zone-card">
                  <div class="zone-title">Deity / Essence Crown</div>
                  <div class="zone-body">
                    <div id="top-deity">Null Regent – Essence 21</div>
                    <div class="zone-note">This panel is your Essence Crown and Deity portrait on the mat.</div>
                  </div>
                </div>
              </div>
              <div class="zone-column">
                <div class="zone-card">
                  <div class="zone-title">Shard / Relic Row</div>
                  <div class="zone-body">
                    <div class="zone-count-badge" id="top-shard-count">0 in play</div>
                    <div class="zone-note">Shards are your sun-fractures; they push KL toward the God Threshold.</div>
                  </div>
                </div>
                <div class="zone-card compact">
                  <div class="zone-title">Domain Lane</div>
                  <div class="zone-body">
                    <div class="zone-count-badge" id="top-domain-count">0 domain(s)</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="center-block">
          <div class="center-strip">
            <div class="center-panel">
              <div class="center-title">New Earth Timeline</div>
              <div class="center-line" id="center-line">Turn 0 • KL threshold 13 • KL cap 31 • Max 3 God Charges per commander.</div>
              <div class="phase-bar">
                <div class="phase-pill active">Ready</div>
                <div class="phase-pill">Draw</div>
                <div class="phase-pill">KL Recalc</div>
                <div class="phase-pill">Main</div>
                <div class="phase-pill">Combat</div>
                <div class="phase-pill">End</div>
              </div>
              <div class="guided-hint">Guided: Follow the phases left-to-right each turn, like a built-in tutorial track.</div>
            </div>
            <div class="center-panel">
              <div class="center-title">Shard Wars Turn Flow</div>
              <div class="center-line">Ready → Draw → KL Recalc (Shards) → Main Actions → Combat → End</div>
              <div class="phase-bar soft">
                <div class="phase-pill">Ready</div>
                <div class="phase-pill">Draw</div>
                <div class="phase-pill">KL Recalc</div>
                <div class="phase-pill">Main</div>
                <div class="phase-pill">Combat</div>
                <div class="phase-pill">End</div>
              </div>
              <div class="guided-hint">Combat basics: Assign blockers from back to front, then resolve damage simultaneously.</div>
            </div>
          </div>
        </div>

        <div class="player-section bottom">
          <div class="player-section-inner">
            <div class="player-header-row">
              <div class="player-id-block">
                <div class="player-label">Your Command Bridge</div>
                <div class="player-name" id="bottom-player-name">Player One (P1)</div>
              </div>
              <div class="action-buttons">
                <button class="action">Play Shard</button>
                <button class="action">Play Avatar</button>
                <button class="action">Play Relic/Support</button>
              </div>
            </div>
            <div class="player-stats-row">
              <div class="stat-pill essence">Essence: <span id="bottom-essence">23</span></div>
              <div class="stat-pill kl">KL: <span id="bottom-kl">3</span> / 31</div>
              <div class="stat-pill kl">Base KL: <span id="bottom-base-kl">3</span></div>
              <div class="stat-pill god">God Charges: <span id="bottom-god">0</span> / 3</div>
              <div class="stat-pill">Hand: <span id="bottom-hand">0</span></div>
              <div class="stat-pill">Veiled: <span id="bottom-veiled">8</span></div>
              <div class="stat-pill">Crypt: <span id="bottom-crypt">0</span></div>
            </div>
            <div class="meter-row">
              <div class="meter">
                <div class="meter-label">Essence Life Force</div>
                <div class="meter-track">
                  <div class="meter-fill essence" id="bottom-essence-meter"></div>
                </div>
              </div>
              <div class="meter">
                <div class="meter-label">KL Flow</div>
                <div class="meter-track">
                  <div class="meter-fill kl" id="bottom-kl-meter"></div>
                  <div class="kl-threshold-marker"></div>
                  <div class="kl-cap-marker"></div>
                </div>
              </div>
            </div>
            <div class="god-charge-row">
              <div>God Charges</div>
              <div class="god-orbs">
                <div class="god-orb" data-bottom-god="1"></div>
                <div class="god-orb" data-bottom-god="2"></div>
                <div class="god-orb" data-bottom-god="3"></div>
              </div>
            </div>
            <div class="zones-grid">
              <div class="zone-column">
                <div class="zone-card">
                  <div class="zone-title">Veiled Deck</div>
                  <div class="zone-body">
                    <div class="zone-count-badge" id="bottom-veiled-count">10 card(s)</div>
                    <div class="zone-note">This mirrors the Veiled Deck stack on your physical mat.</div>
                  </div>
                </div>
                <div class="zone-card compact">
                  <div class="zone-title">Crypt (Discard / Fallen)</div>
                  <div class="zone-body">
                    <div class="zone-count-badge" id="bottom-crypt-count">0 card(s)</div>
                  </div>
                </div>
              </div>
              <div class="zone-column">
                <div class="zone-card">
                  <div class="zone-title">Deity / Essence Crown</div>
                  <div class="zone-body">
                    <div id="bottom-deity">Second Sun Herald – Essence 23</div>
                    <div class="zone-note">This panel is your Essence Crown and Deity portrait on the mat.</div>
                  </div>
                </div>
              </div>
              <div class="zone-column">
                <div class="zone-card">
                  <div class="zone-title">Shard / Relic Row</div>
                  <div class="zone-body">
                    <div class="zone-count-badge" id="bottom-shard-count">0 in play</div>
                    <div class="zone-note">Shards are your sun-fractures; they push KL toward the God Threshold.</div>
                  </div>
                </div>
                <div class="zone-card compact">
                  <div class="zone-title">Domain Lane</div>
                  <div class="zone-body">
                    <div class="zone-count-badge" id="bottom-domain-count">0 domain(s)</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="ec_cards_ionos.js"></script>
  <script type="module" src="scripts/game-bootstrap.js"></script>
</body>
</html>
